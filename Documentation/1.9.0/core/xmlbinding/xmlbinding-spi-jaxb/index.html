<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-07-01 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20160701" />
    <meta http-equiv="Content-Language" content="en" />
    <title>nazgul-core-xmlbinding-spi-jaxb &#x2013; Overview: XmlBinding JAXB SPI</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>

                          
        
<link rel="stylesheet" href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css" type="text/css"/>
                      
        
<link rel="stylesheet" href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css" type="text/css"/>
                      
        
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script>
                      
        
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJava.js" type="text/javascript"></script>
                      
        
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJScript.js" type="text/javascript"></script>
                      
        
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushXml.js" type="text/javascript"></script>
          
                  </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2><span style="color: #777777;">nazgul-core-xmlbinding-spi-jaxb</span></h2>
                </div>
                      </div>
        <div class="pull-right">              <div id="bannerRight">
                <h2>Nazgul Framework: Core</h2>
                </div>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="projectVersion">Version: 1.9.0
                    </li>
              
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2016-07-01</li>
            
                                    
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="http://bitbucket.org/lennartj" class="externalLink" title="Bitbucket">
        Bitbucket</a>
      </li>

  
    <li class="pull-right">
                      <a href="http://maven.apache.org/" class="externalLink" title="Maven">
        Maven</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li class="active">
  
            <a href="#"><span class="none"></span>Introduction</a>
          </li>
                              <li class="nav-header">Parent Project</li>
                              
      <li>
  
                          <a href="../../poms/api-parent/index.html" title="nazgul-core-api-parent">
          <span class="none"></span>
        nazgul-core-api-parent</a>
            </li>
                                                                                <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                      
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-down"></span>
        Project Reports</a>
                    <ul class="nav nav-list">
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>AspectJ Report</a>
          </li>
                    
      <li>
  
                          <a href="apidocs/index.html" title="JavaDocs">
          <span class="none"></span>
        JavaDocs</a>
            </li>
                    
      <li>
  
                          <a href="testapidocs/index.html" title="Test JavaDocs">
          <span class="none"></span>
        Test JavaDocs</a>
            </li>
                    
      <li>
  
                          <a href="xref/index.html" title="Source Xref">
          <span class="none"></span>
        Source Xref</a>
            </li>
                    
      <li>
  
                          <a href="xref-test/index.html" title="Test Source Xref">
          <span class="none"></span>
        Test Source Xref</a>
            </li>
                    
      <li>
  
                          <a href="cobertura/index.html" title="Cobertura Test Coverage">
          <span class="none"></span>
        Cobertura Test Coverage</a>
            </li>
                    
      <li>
  
                          <a href="findbugs.html" title="FindBugs">
          <span class="none"></span>
        FindBugs</a>
            </li>
                    
      <li>
  
                          <a href="clirr-report.html" title="Clirr">
          <span class="none"></span>
        Clirr</a>
            </li>
                    
      <li>
  
                          <a href="property-updates-report.html" title="Property Updates Report">
          <span class="none"></span>
        Property Updates Report</a>
            </li>
                    
      <li>
  
                          <a href="dependency-updates-report.html" title="Dependency Updates Report">
          <span class="none"></span>
        Dependency Updates Report</a>
            </li>
                    
      <li>
  
                          <a href="plugin-updates-report.html" title="Plugin Updates Report">
          <span class="none"></span>
        Plugin Updates Report</a>
            </li>
              </ul>
        </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Overview: XmlBinding JAXB SPI</h1>
<p>The JAXB SPI is an implementation of the XmlBinding API using JAXB technology. The SPI is intended to be used in any case where JAXB-annotated classes should be converted to or from XML. The XmlBinding JAXB SPI provides thee main simplifications and a desirable process over raw JAXB:</p>

<ol style="list-style-type: decimal">
  
<li>While the JAXB api itself is fairly useable, it comes with added complexity when  XML schema validation is required (by default, JAXB does not validate XSD schema  when marshalling and/or unmarshalling XML). The XmlBinding JAXB SPI simplifies  both marshalling and unmarshalling - and throws in XML schema validation as well.</li>
  
<li>JAXB is complex when trying to control the exact XSD generated by annotated  classes - in particular when you wish to manage/control the namespace prefixes  used within a generated XSD. This is simplified and wrapped by the XmlBinding  JAXB SPI, encapsulating the functionality within a <tt>JaxbNamespacePrefixResolver</tt>.</li>
  
<li>For classes not compliant with JAXB standards, one can use standard JAXB to  create a class which implements <tt>XmlAdapter</tt> and also annotate the noncompliant  field or class with <tt>@XmlJavaTypeAdapter</tt> to indicate the XmlAdapter used.  However, this approach requires annotations in all places where fields exist  that JAXB should handle, which is somewhat cumbersome and error-prone. The  XmlBinding JAXB SPI provides an alternative solution by hosting a generally  available type converter registry used to convert to and from transport types.</li>
</ol>
<p>There are typically two use cases for the JAXB SPI - marshalling Objects to XML and unmarshalling XML to Objects. Let&#x2019;s have a look at both these cases:</p>
<div class="section">
<h2><a name="Marshalling_Java_Objects_to_XML"></a>Marshalling Java Objects to XML</h2>
<p>Typically, marshalling of Java objects into XML is used to acquire a language-neutral transport form before sending data over the network in message or request form. Also, marshalling a configuration object into XML and storing it in a file is a simple way to provide an easy-to-read configuration file.</p>

<div>
<pre class="brush: java" title="Example marshal method use.">
// Create the xml binder
final JaxbXmlBinder binder = new JaxbXmlBinder();

// Marshal a set of objects into XML
final Person person1 = new Person(&quot;Lennart&quot;, 44);
final Person person2 = new Person(&quot;Malin&quot;, 478);
final String xml = unitUnderTest.marshal(person1, &quot;FooBar!&quot;, null, person2);
</pre></div>
<p>The XML generated by the JaxbXmlBinder in its default configuration contains two main elements, as shown in the XML snippet below:</p>

<ol style="list-style-type: decimal">
  
<li>The <b>entityClasses</b> element contains the class names of all transport types contained  within the message. This type information is required if you want to unmarshal the types  using JAXB; and the XmlBinding JAXB SPI makes use of this type information to simplify  unmarshalling.</li>
  
<li>The <b>items</b> element contains the actual marshalled XML data. Note that some type  conversion is done under the covers to convert normally un-marshallable data types to  something that JAXB can work with. (In the example snippet below, note that the  original <tt>null</tt> value has been converted to a <tt>JaxbAnnotatedNull</tt> transport type, which  has been marshalled into the XML message).</li>
</ol>

<div>
<pre class="brush: xml" title="Example marshalled data.">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;core:entityTransporter xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
      xmlns:core=&quot;http://www.jguru.se/nazgul/core&quot;
      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;
    &lt;entityClasses&gt;
        &lt;entityClass&gt;java.lang.String&lt;/entityClass&gt;
        &lt;entityClass&gt;se.jguru.nazgul.core.xmlbinding.spi.jaxb.helper.types.Person&lt;/entityClass&gt;
        &lt;entityClass&gt;se.jguru.nazgul.core.xmlbinding.spi.jaxb.transport.EntityTransporter&lt;/entityClass&gt;
        &lt;entityClass&gt;se.jguru.nazgul.core.xmlbinding.spi.jaxb.transport.type.JaxbAnnotatedNull&lt;/entityClass&gt;
    &lt;/entityClasses&gt;
    &lt;items&gt;
        &lt;item xsi:type=&quot;core:person&quot; age=&quot;44&quot;&gt;
            &lt;name&gt;Lennart&lt;/name&gt;
        &lt;/item&gt;
        &lt;item xsi:type=&quot;xs:string&quot;&gt;FooBar!&lt;/item&gt;
        &lt;item xsi:type=&quot;core:jaxbAnnotatedNull&quot;/&gt;
        &lt;item xsi:type=&quot;core:person&quot; age=&quot;478&quot;&gt;
            &lt;name&gt;Malin&lt;/name&gt;
        &lt;/item&gt;
    &lt;/items&gt;
&lt;/core:entityTransporter&gt;
</pre></div></div>
<div class="section">
<h2><a name="Unmarshalling_XML_to_Java_Objects"></a>Unmarshalling XML to Java Objects</h2>
<p>Typically, unmarshalling Java Objects from XML is used to resurrect/re-create the memory state of Java Objects previously written to XML form. If the XML data has been generated by the XmlBinding JAXB SPI, it can be resurrected in a simple manner:</p>

<div>
<pre class="brush: java" title="Example unmarshal method use.">
// Create the xml binder
final JaxbXmlBinder binder = new JaxbXmlBinder();

// Unmarshal XML to resurrect the objects previously written
final Reader input = ... read XML data from a stream connected to a file/socket/whatever ...
final List&lt;Object&gt; result = unitUnderTest.unmarshal(input);

// The result list now contains the objects previously marshalled, as per above.
</pre></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                                                          
<script type="text/javascript">SyntaxHighlighter.all()</script>
                          </div>

        
                </div>
    </footer>
        </body>
</html>
