<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2017-04-22 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20170422" />
    <meta http-equiv="Content-Language" content="en" />
    <title>nazgul-core-algorithms-api &#x2013; Nazgul Core: Algoritms API</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
<!-- Add syntax highlighter -->
            <link href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css"
                  rel="stylesheet"
                  type="text/css"/>
            <link href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css"
                  rel="stylesheet"
                  type="text/css"/>
            <script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js"
                    type="text/javascript"></script>
            <script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJava.js"
                    type="text/javascript"></script>
            <script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJScript.js"
                    type="text/javascript"></script>
            <script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushXml.js"
                    type="text/javascript"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>nazgul-core-algorithms-api</h2>
</div>
</div>
        <div class="pull-right"><div id="bannerRight"><h2>Nazgul Framework: Core</h2>
</div>
</div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="projectVersion">Version: 3.0.0</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2017-04-22</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="http://bitbucket.org/lennartj" class="externalLink" title="Bitbucket">Bitbucket</a></li>
      <li class="pull-right"><a href="http://maven.apache.org/" class="externalLink" title="Maven">Maven</a></li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Overview</li>
    <li class="active"><a href="#"><span class="none"></span>Introduction</a>
  </li>
          <li class="nav-header">Parent Project</li>
    <li><a href="../../poms/api-parent/index.html" title="nazgul-core-api-parent"><span class="none"></span>nazgul-core-api-parent</a>  </li>
                          <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a>  </li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-down"></span>Project Reports</a>
      <ul class="nav nav-list">
    <li class="active"><a href="#"><span class="none"></span>AspectJ Report</a>
  </li>
    <li><a href="apidocs/index.html" title="JavaDocs"><span class="none"></span>JavaDocs</a>  </li>
    <li><a href="testapidocs/index.html" title="Test JavaDocs"><span class="none"></span>Test JavaDocs</a>  </li>
    <li><a href="xref/index.html" title="Source Xref"><span class="none"></span>Source Xref</a>  </li>
    <li><a href="xref-test/index.html" title="Test Source Xref"><span class="none"></span>Test Source Xref</a>  </li>
    <li><a href="checkstyle.html" title="Checkstyle"><span class="none"></span>Checkstyle</a>  </li>
    <li><a href="findbugs.html" title="FindBugs"><span class="none"></span>FindBugs</a>  </li>
    <li><a href="property-updates-report.html" title="Property Updates Report"><span class="none"></span>Property Updates Report</a>  </li>
    <li><a href="dependency-updates-report.html" title="Dependency Updates Report"><span class="none"></span>Dependency Updates Report</a>  </li>
    <li><a href="plugin-updates-report.html" title="Plugin Updates Report"><span class="none"></span>Plugin Updates Report</a>  </li>
      </ul>
  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>Nazgul Core: Algoritms API</h1>
<p>The Algoritms API project contains implementations of functional-style, reusable algorithms which can be imported and used within any project. Most of the algorithms are divided into 2 categories, manifested by 2 classes:</p>

<ol style="list-style-type: decimal">
  
<li>
<p><b>Collection algorithms</b>. The CollectionAlgorithms class contains a set of static methods  that simplifies working with Collections. These algorithms are functional in nature, and based  on the JavaSE 8+ Collections and Streams APIs.</p></li>
  
<li>
<p><b>Tree algorithms</b>. The TreeAlgorithms class contains algorithms that simplify working with  data, organised within a Tree structure. The javax.swing package contains a partial  implementation of a Tree model, but the Tree definitions within the Algorithms API project  provides a fuller/richer set of operations than the swing implementation.</p></li>
</ol>
<div class="section">
<h2><a name="Example:_Network_algorithm_usage"></a>Example: Network algorithm usage</h2>
<p>Some frequently occurring operations on network addresses appear un-obvious at first, but are in reality not all that complex when you dig into the richness of the JavaSDK. However, most developers hesitate when charged with - say -<br />finding the non-loopback, non-link-local IPv4 InetAddress of the computer your program is running on.</p>
<p>The NetworkAlgorithms class define a slew of algorithms, filters and suppliers solving common problems related to Network problems. Most stream API building blocks are defined as constants within the NetworkAlgorithms class. The example Predicate definition below solves the problem of identifying all InetAddress objects which are IPv4, not a Loopback address and not a link-local IPv4 address:</p>

<div>
<pre class="brush: java">
    /**
     * Predicate identifying non-null IPv4, non-loopback InetAddress objects that are not LinkLocal addresses.
     */
    public static final Predicate&lt;InetAddress&gt; PUBLIC_IPV4_FILTER = candidate -&gt;
            IPV4_FILTER.test(candidate)
                    &amp;&amp; !LOOPBACK_FILTER.test(candidate)
                    &amp;&amp; !candidate.isLinkLocalAddress();
</pre></div>
<p>Combine the algorithm building blocks to form elegant solutions to potentially complex problems, exemplified by one of the existing methods to retrieve publicly available IPv4 addresses:</p>

<div>
<pre class="brush: java">
    /**
     * Convenience method to find all public (i.e. non-loopback, non-linklocal) IPv4 addresses.
     *
     * @return A sorted set holding all Inet4Address objects which are neither loopback nor link-local
     * for all network interfaces on the local computer.
     * @see #INETADDRESS_COMPARATOR
     * @see #GET_INETADDRESSES
     * @see #PUBLIC_IPV4_FILTER
     */
    @NotNull
    public static SortedSet&lt;Inet4Address&gt; getPublicIPv4Addresses() {

        // Create the return value with the
        final SortedSet&lt;Inet4Address&gt; toReturn = new TreeSet&lt;&gt;(INETADDRESS_COMPARATOR);

        // Use the PUBLIC_IPV4_FILTER to
        NetworkAlgorithms.getAllNetworkInterfaces(null)
                .stream()
                .map(NetworkAlgorithms.GET_INETADDRESSES)
                .forEach(c -&gt; c.stream()
                        .filter(NetworkAlgorithms.PUBLIC_IPV4_FILTER)
                        .map(addr -&gt; (Inet4Address) addr)
                        .forEach(toReturn::add));

        // All Done.
        return toReturn;
    }
</pre></div></div>
<div class="section">
<h2><a name="Example:_TypeAlgorithms_usage"></a>Example: TypeAlgorithms usage</h2>
<p>We frequently need to use reflection on classes to perform operations which rely on getting information about capabilities in run-time, rather than at compile time. Such operations typically include Dependency Injection ehich form the basis for the CDI standard, the Spring Framework&#x2019;s core, the Plexus Framework, the Nazg&#xfb;l Core: Reflection API and others.</p>
<p>Typically, most reflection-related algorithms extract some information about the type - and these are conveniently collected into a TypeAlgorithms utility class and a TypeInformation reflection information holder. </p>

<div>
<pre class="brush: java">
    
    // Get TypeInformation 
    final TypeInformation typeInfo = new TypeInformation(SomeClass.class);
    
    // Now extract reflective information from the typeInfo
    // There are lots of different methods here; refer to the documentation and test cases.
    final SortedSet&lt;Class&lt;?&gt;&gt; allImplementedInterfaces = typeInfo.getAllInterfaces();
    final SortedMap&lt;String, Method&gt; property2GetterMethodMap = typeInfo.getJavaBeanGetterMethods()
    final SortedMap&lt;String, Method&gt; property2SetterMethodMap = typeInfo.getJavaBeanSetterMethods()
    ...
</pre></div>
<p>A use of this is exemplified by a Predicate (implemented in the nazgul-core-reflection-api project), and which finds all Interfaces (which are also Classes, remember?) matching a certain Predicate (if supplied). One simple way to dig out all Interfaces is to use the TypeInformation class as shown:</p>

<div>
<pre class="brush: java">
    /**
     * Acquires all interfaces from the provided class which matches the provided selector's acceptance criteria.
     *
     * @param clazz    The class from which to derive all appropriate interfaces.
     * @param selector an optional (i.e. nullable) Predicate. If provided, the Predicate is used to
     *                 filter all interfaces implemented by the supplied Class.
     * @return All interfaces implemented by the provided class, and which
     * matched the supplied selector's acceptance criteria.
     */
    @NotNull
    public static SortedSet&lt;Class&lt;?&gt;&gt; getInterfaces(@NotNull final Class&lt;?&gt; clazz,
                                                    final Predicate&lt;Class&lt;?&gt;&gt; selector) {

        // Check sanity
        Validate.notNull(clazz, &quot;clazz&quot;);

        // Extract all interfaces
        final TypeInformation typeInfo = new TypeInformation(clazz);
        final SortedSet&lt;Class&lt;?&gt;&gt; allInterfaces = typeInfo.getAllInterfaces();

        if (log.isDebugEnabled()) {
            log.debug(clazz.getName() + &quot; implements &quot; + allInterfaces.size() + &quot; interfaces: &quot;
                    + allInterfaces.stream()
                    .map(Class::getName)
                    .sorted()
                    .reduce((l, r) -&gt; l + &quot;, &quot; + r)
                    .orElse(&quot;&lt;none&gt;&quot;));
        }

        // Delegate
        return selector == null
                ? allInterfaces
                : allInterfaces.stream().filter(selector).collect(TypeAlgorithms.SORTED_CLASSNAME_COLLECTOR);
    }
</pre></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
<!-- Launch the syntax highlighter. -->
            <script type="text/javascript">
                SyntaxHighlighter.all()
            </script>
        </div>
        </div>
    </footer>
    </body>
</html>
